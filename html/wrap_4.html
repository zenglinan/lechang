<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>平台设计系统</title>

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
    <script src="../js/jquery.pagination.min.js"></script>
    <link rel="stylesheet" href="../bootstrap-3.3.7-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css">

    <script src="../js/project/wrap_4.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/data_platform.css" />
    <link rel="stylesheet" href="../css/jquery.pagination.css" />
    <link rel="stylesheet" href="../css/wrap_2.css">
    <link rel="stylesheet" href="../css/wrap_3.css">
    <link rel="stylesheet" href="../css/wrap_4.css">
    <link rel="stylesheet" href="../css/tableSheet.css">
</head>

<body>

<header class="dt-header">
    <h1 class="dt-logo">平台设计系统</h1>
    <div class="dt-setting">
        <i class="fa fa-bars dropdown-toggle" data-toggle="dropdown"></i>
        <i class="fa fa-commenting"></i>
        <i class="fa fa-mail-reply"></i>
        <i class="fa fa-search"></i>
        <ul class="dropdown-menu pull-right" role="menu">
            <li>
                <a href="#">选项一</a>
            </li>
            <li>
                <a href="#">选项二</a>
            </li>
            <li class="divider"></li>
            <li>
                <a href="http://119.23.253.225:8080/hzl-iomp/logout.action">注销</a>
            </li>
            <li>
                <a href="#">退出</a>
            </li>
        </ul>
    </div>
</header>

<div class="dt-main">
    <div class="dt-sidebar">
        <div class="sidebar__content">
            <div class="panel-heading">
                <a href="#">&nbsp;
                    <i class="fa fa-angle-double-left" style="float:right; font-size:26px; margin-right:4px;"></i></a>
            </div>
            <div class="function-menu">
                <ul class="nav nav-list ">
                    <li class="function-item">
                        <a href="#" class="li_1">
                            <i class="fa fa-minus"></i>
                            <span>平台信息管理</span>
                        </a>
                    </li>
                    <li class="function-item">
                        <a href="http://119.23.253.225:8080/hzl-iomp/html/wrap_2.html" class="li_2">
                            <i class="fa fa-edit"></i>
                            <span>数据表定义管理</span>
                        </a>
                    </li>
                    <li class="function-item">
                        <a href="http://119.23.253.225:8080/hzl-iomp/html/wrap_3.html" class="li_3">
                            <i class="fa fa-table"></i>
                            <span>数据信息管理</span>
                        </a>
                    </li>
                    <li class="function-item">
                        <a href="http://119.23.253.225:8080/hzl-iomp/html/wrap_4.html" class="li_4">
                            <i class="fa fa-database"></i>
                            <span>数据项关系管理</span>
                        </a>
                    </li>
                    <li class="function-item">
                        <a href="http://119.23.253.225:8080/hzl-iomp/html/wrap_5.html" class="li_5">
                            <i class="fa fa-check-circle"></i>
                            <span>界面定义管理</span>
                        </a>
                    </li>
                    <li class="function-item">
                        <a href="#" class="li_6">
                            <i class="fa fa-user-plus"></i>
                            <span>用户管理</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="dt-container">
        <div class="dt-title">数据信息管理 </div>

        <div id="wrap_3" style="display:block">
            <div id="p_index" style="white-space:nowrap"><label id="new_index">数据信息</label></div>
            <div id="table_new" style="display: none">
                <div class="table-heading bg-primary">
                    <!--数据库初设-->
                </div>
                <div class="panel-body " id="table_show">
                    <div id="div_set"></div>
                    <div class="br_ col-sm-12">&nbsp;</div>
                    <hr />
                    <div id="pagination3" class="page fl col-sm-12"></div>
                    <!-- 翻页控件-->
                </div>
            </div>
            <div id="table_data" style="display: block">
                <div class="container-fluid">
                    <div class="control-group col-sm-12" style="display: block">
                        <div class="tab-wrap">
                            <!-- active tab on page load gets checked attribute -->
                            <input type="radio" id="tab1" name="tabGroup1" class="tab" checked>
                            <label for="tab1">计算区</label>

                            <input type="radio" id="tab2" name="tabGroup1" class="tab">
                            <label for="tab2">合并区</label>

                            <input type="radio" id="tab3" name="tabGroup1" class="tab">
                            <label for="tab3">其他区</label>

                            <div class="tab__content" style="">
                                <!--<h3>Short Section</h3>-->
                                <!--<p>啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦</p>-->
                                <!--<label class="control-label col-sm-12" for="inputDefine" style="padding-left: 0px;padding-right: 0px">输入定义:-->
                                    <!--<textarea id="inputDefine" class="form-control" style="width: 100%; margin-top:5px"></textarea>-->
                                <!--</label>-->
                                <!--<label class="control-label col-sm-12" for="outputDefine" style="padding-left: 0px;padding-right: 0px">输出定义:-->
                                    <!--<textarea id="outputDefine" class="form-control" style="width: 100%; margin-top:5px"></textarea>-->
                                <!--</label>-->
                                <!--<label class="control-label col-sm-12" for="calculateDefine" style="padding-left: 0px;padding-right: 0px">计算公式:-->
                                    <!--<div class="form-inline">-->
                                        <!--<input id="calculateDefine" class="form-control" style="width: 80%; margin-top:5px">-->
                                        <!--<button id="calculateImplementation" class="btn" >执行计算</button>-->
                                    <!--</div>-->
                                <!--</label>-->
                                <!-- 模态框主体 -->
                                <div class="modal-body" id="calcModal">
                                    <div class="calc-body">
                                        <label class="calc-start">[重启计算模块]</label>
                                        <div class="binddiv">
                                            <h5><strong>[导入字段]</strong><span></span></h5>
                                            <div class="bindvalue"><i class="fa fa-plus-circle"></i>
                                                <p class="item">
                                                    <label>a:</label>
                                                    <input type="text" class="rightControlSet tb" placeholder="选取表名"></input><input type="text" class="rightControlSet field" placeholder="选取字段名"></input><input type="text" class="rightControlSet" placeholder="字段截取条件"></input><span></span>
                                                <p/>
                                                <p class="item">
                                                    <label>b:</label>
                                                    <input type="text" class="rightControlSet tb" placeholder="选取表名"></input><input type="text" class="rightControlSet field" placeholder="选取字段名"></input><input type="text" class="rightControlSet" placeholder="字段截取条件"></input><span></span>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="exprdiv">
                                            <h5><strong>[计算类型选择]</strong></h5>
                                            <div class="exprtype">
                                                <label>计算平均值</label><label>计算和</label><label>计算乘积</label><label>计算差值</label><label>计算商</label>
                                                <label>字段排序</label><label>字段统计</label><label>自行绑定</label>
                                                <!--         			<span>*其余计算类型自行绑定计算表达式</span> -->
                                            </div>
                                        </div>
                                        <div class="autofilldiv">
                                            <h5><strong>[设置参数/计算表达式]</strong></h5>
                                            <div class="autofill">
                                                <p><label>字段参数*:</label><input type="text" class="rightControlSet" placeholder="输入所需统计的字段名"></input><span>*可选</span><p>
                                                <p><label>计算表达式:</label><input type="text" class="rightControlSet calc-expr" id="calc_expr"></input><span></span></p>
                                            </div>
                                        </div>
                                        <div class="resultdiv">
                                            <h5><strong>[设置导出字段]</strong></h5>
                                            <div class="returnresult">
                                                <input type="text" class="rightControlSet" id="field_name" placeholder="导出字段名"></input><input type="text" class="rightControlSet" id="field_desc" placeholder="字段描述"></input>
                                                <button class="btn btn-primary" id="cachebtn">缓存计算任务</button>
                                            </div>
                                        </div>
                                    </div><!--calc-body-->
                                    <div class="cache-body" style="display: block">
                                        <div class="cachediv">
                                            <h5><strong>[已缓存以下计算任务]</strong></h5>
                                            <table class="calctask">
                                                <thead>
                                                <tr>
                                                    <th>计算表达式</th>
                                                    <th>导出字段名</th>
                                                    <th>导出字段描述</th>
                                                    <th></th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="outputdiv">
                                            <h5><strong>[导出计算任务]</strong></h5>
                                            <div class="outputtask">
                                                <p><label>表联立条件:</label><input type="text" class="rightControlSet calc-condition" id="calc_condition" placeholder="表名.字段名=表名.字段名,.."></input><span>*注意为所有计算任务共享</span></p>
                                                <p><label>共(<span id="task_num"></span>)条计算任务</label><button class="btn btn-primary" id="outputbtn">全部导出到中间表</button></p>
                                            </div>
                                        </div>
                                    </div><!--cache-body-->
                                </div>
                                <!-- 模态框底部 -->
                            </div>

                            <div class="tab__content">
                                <!--<h3>合并时的详细功能</h3>-->
                                <!--<p>uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu</p>-->
                                <!--<p>有有有有有有有有有有有有有有有有有有有</p>-->
                                <div style="float: left;position: relative;width: 80%">
                                    <div class="" style="align-items: stretch;width:100%;">
                                        <label class="control-label" for="inputTable" style="width:45%;padding-left: 0px;padding-right: 0px">主表表名:
                                            <input id="inputTable" class="form-control" style="width: 100%; margin-top:5px">
                                        </label>
                                        <label class="control-label" for="inputField" style="width:45%;padding-left: 0px;padding-right: 0px">主表索引:
                                            <input id="inputField" class="form-control" style="width:100%; margin-top:5px">
                                        </label>
                                    </div>
                                    <div class="" style="align-items: stretch;width:100%;">
                                        <label class="control-label" for="input2Table" style="width: 45%;padding-left: 0px;padding-right: 0px">从表表名:
                                            <input id="input2Table" class="form-control" style="width: 100%; margin-top:5px">
                                        </label>
                                        <label class="control-label" for="input2Field" style="width: 45%;padding-left: 0px;padding-right: 0px">从表索引:
                                            <input id="input2Field" class="form-control" style="width: 100%; margin-top:5px">
                                        </label>
                                    </div>
                                </div>
                                <div style="position: relative;float: right;width: 20%;">
                                    <button id="combineImplementation" style="width:10em;height:9em;font-size: inherit" class="btn btn-success" >执行合并</button>
                                </div>
                            </div>

                            <div class="tab__content">
                                <div class="table-setting">
                                    <p><label><span></span>设置中间表基本字段信息:</label></p>
                                    <div class="table-field">
                                        <p><label>设置中间表名称:</label><input type="text" class="rightControlSet" id="midName"></p>
                                        <p><label>选取基本表名称:</label><input type="text" class="rightControlSet" id="midBase"></p>
                                        <p><label>描述中间表用途:</label><input type="text" class="rightControlSet" id="midDesc"></p>
                                    </div>
                                    <p><label><span></span>当前获取得到字段信息:</label></p>
                                    <div class="task-show">
                                        <p>自然字段 |</p>
                                        <table class="nature-fieldlist">
                                            <thead>
                                                <tr>
                                                    <th>自然字段名</th>
                                                    <th>该字段来自基本表名</th>
                                                    <th>基本表对应字段名</th>
                                                    <th>自然字段描述</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>tb2Grade</td>
                                                    <td>tb2</td>
                                                    <td>Grade</td>
                                                    <td>tb2的Grade字段</td>
                                                </tr>
                                                <tr>
                                                    <td>tb2Grade</td>
                                                    <td>tb2</td>
                                                    <td>Grade</td>
                                                    <td>tb2的Grade字段</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <p>计算字段 |</p>
                                        <table class="compute-fieldlist">
                                            <thead>
                                                <tr>
                                                    <th>计算字段名</th>
                                                    <th>计算字段描述</th>
                                                    <th>生成计算公式</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>fd4</td>
                                                    <td>Grade字段加权值</td>
                                                    <td>1.2*tb2.Grade</td>
                                                </tr>
                                                <tr>
                                                    <td>fd4</td>
                                                    <td>Grade字段加权值</td>
                                                    <td>1.2*tb2.Grade</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <p><label><span></span>添加附加条件:</label><input type="text" class="rightControlSet" id="addCondition"></p>
                                    <div class="table-create">
                                        <button class="btn btn-primary" id="createMidBtn">创 建</button>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <br>
                    <button class="btn btn-primary" id="getvalue">获取当前计算模块的值</button>
                    <div class="row-fluid col-md-12" id="table_div1">
                        <div class="col-md-12" id="table_div2">
                            <!--<table class="table">-->
                                <!--<thead class="data_show"></thead>-->
                                <!--<tbody class="data_show"></tbody>-->
                            <!--</table>-->
                            <div class="leftInput col-md-6">
                                <div class="table-with-btn">
                                    <div class="headleBlock">
                                        <div class="control-group col-sm-12" style="display: block">
                                            <div class="col-sm-6 btn-group">
                                                <button id="setTableNode" class="btn" type="button" data-toggle="modal" data-target="#myModal">调用</button>
                                                <button id="setFieldNode" class="btn" type="button" data-toggle="modal" data-target="#myModal">设置</button>
                                                <!--<button id="export" class="btn" type="button" data-toggle="modal" data-target="#myModal">导出</button>-->
                                            </div>
                                            <div class="col-sm-6 btn-group">
                                                <!--<button id="insert-accept" class="btn btn-primary" type="button"  data-toggle="modal" data-target="#myModal">新增缓存</button>-->
                                                <button id="cancel-accept" class="btn" type="button" data-toggle="modal" data-target="#myModal">删除缓存</button>
                                                <button id="replace-accept" class="btn" type="button" data-toggle="modal" data-target="#myModal">修改缓存</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="contentBlock">
                                        <table class="responstable">
                                            <tr>
                                                <th>选择</th>
                                                <th data-th="Driver details"><span>字段名</span></th>
                                                <th>长度</th>
                                                <th>类型</th>
                                                <th>识别名</th>
                                                <th>可否为空</th>
                                            </tr>
                                            <!--<tr>-->
                                                <!--<td><input type="radio"/></td>-->
                                                <!--<td>Steve</td>-->
                                                <!--<td>Foo</td>-->
                                                <!--<td>01/01/1978</td>-->
                                                <!--<td>Policyholder</td>-->
                                            <!--</tr>-->
                                        </table>
                                    </div>
                                <div id="pagination" class="page fl col-sm-12"></div>
                                <!-- 翻页控件-->
                                </div>
                            </div>
                            <div class="rightOutput col-md-6">
                                <div class="table-with-btn">
                                <div class="headleBlock">
                                    <div class="control-group col-sm-12" style="display: block">
                                        <div class="col-sm-6 btn-group">
                                            <button id="insert2" class="btn" type="button" data-toggle="modal" data-target="#myModal">调用</button>
                                            <button id="check2" class="btn" type="button" data-toggle="modal" data-target="#myModal">查找</button>
                                            <!--<button id="export2" class="btn" type="button" data-toggle="modal" data-target="#myModal">导出</button>-->
                                        </div>
                                        <div class="col-sm-6 btn-group">
                                            <!--<button id="insert-accept" class="btn btn-primary" type="button"  data-toggle="modal" data-target="#myModal">新增缓存</button>-->
                                            <button id="cancel-accept2" class="btn" type="button" data-toggle="modal" data-target="#myModal">删除缓存</button>
                                            <button id="replace-accept2" class="btn" type="button" data-toggle="modal" data-target="#myModal">修改缓存</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="contentBlock">
                                    <table class="responstable">
                                        <tr>
                                        <tr>-->
                                            <!--<td><input type="radio"/></td>-->
                                            <!--<td>Steve</td>-->
                                            <!--<td>Foo</td>-->
                                            <!--<td>01/01/1978</td>-->
                                            <!--<td>Policyholder</td>-->
                                            <!--</tr>                                            <th>Main driver</th>
                                                <th data-th="Driver details"><span>First name</span></th>
                                                <th>Surname</th>
                                                <th>Date of birth</th>
                                                <th>Relationship</th>
                                            </tr>
                                            <!---->
                                    </table>
                                </div>
                                <div id="pagination2" class="page fl col-sm-12"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel">
                    <i class="fa fa-arrows-h"></i>
                </h4>
            </div>
            <div id="dlg" class="modal-body">
                <div id="dlg_1" style="display: none">
                    <div class="col-md-12">
                        <label>表名</label>
                        <select class="form-control" id="tableSelect" style="width:100%">
                        </select>
                    </div>
                </div>
                <div id="dlg_2">
                    <div class="col-md-12">
                        <label>字段名</label>
                        <select class="form-control" id="fieldSelect" style="width:100%">
                        </select>
                    </div>
                    <div class="col-md-12">
                        <label>新字段名</label>
                        <input type="text" class="form-control" id="fieldInput1" name="" style="width:100%">
                    </div>
                    <div class="col-md-12">
                        <label>描述</label>
                        <input type="text" class="form-control" id="fieldInput2" name="" style="width:100%">
                    </div>

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                </button>
                <button type="button" class="btn btn-primary table-btn">
                    提交更改
                </button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal -->
</div>

</body>

